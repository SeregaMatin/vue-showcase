(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdd16a0a"],{"11e1":function(t,c,o){},bd21:function(t,c,o){"use strict";var r=o("11e1"),a=o.n(r);a.a},d2f1:function(t,c,o){"use strict";o.r(c);var r=function(){var t=this,c=t.$createElement,o=t._self._c||c;return t.hasProduct?o("div",{staticClass:"view view__product"},[o("h1",{staticClass:"typography typography--headline1"},[t._v("\n    "+t._s(t.product.name)+"\n  ")]),o("div",{staticClass:"product"},[o("div",{staticClass:"product__images-list"},t._l(t.product.images,(function(c){return o("div",{key:c,staticClass:"product__images-list-item",class:{"product__images-list-item--active":t.productActiveImage===c},on:{click:function(o){t.productActiveImage=c}}},[o("img",{staticClass:"product__images-list-item-img",attrs:{src:t.getProductImagePath(t.product,c),alt:t.product.name+" - "+c}})])})),0),o("div",{staticClass:"product__active-image"},[o("transition",{attrs:{name:"fade"}},[o("img",{key:t.productActiveImage,staticClass:"product__active-image-img",attrs:{src:t.getProductImagePath(t.product,t.productActiveImage),alt:t.product.name+" - "+t.productActiveImage}})])],1),o("div",{staticClass:"product__summary"},[o("div",{staticClass:"product__purchasing"},[o("div",{staticClass:"product__purchasing-price"},[t._v("\n          "+t._s(t.getProductFormattedPrice(t.product))+" ₽\n        ")]),t.hasProductInCart(t.product)?o("v-button",{staticClass:"product__purchasing-cart-button button--secondary",on:{click:function(c){return t.removeProductFromCart(t.product)}}},[o("svg-icon",{staticClass:"svg-icon--size_m button__icon button__icon--left-aligned",attrs:{src:"icomoon.svg#icon-remove-from-cart"}}),t._v("\n          Убрать из корзины\n        ")],1):o("v-button",{staticClass:"product__purchasing-cart-button button--secondary",on:{click:function(c){return t.addProductToCart(t.product)}}},[o("svg-icon",{staticClass:"svg-icon--size_m button__icon button__icon--left-aligned",attrs:{src:"icomoon.svg#icon-add-to-cart"}}),t._v("\n          Добавить в корзину\n        ")],1)],1),o("div",{staticClass:"product__description"},[o("div",{staticClass:"product__description-header"},[t._v("\n          Описание\n        ")]),t._v("\n        "+t._s(t.product.description)+"\n      ")])])])]):o("div",{staticClass:"view view__product"},[o("not-found",[t._v("\n    К сожалению, страница запрашиваемого товара не найдена\n  ")])],1)},a=[],i=o("fa7d"),n=o("07a4"),s=o("be4d"),e=o("0032"),u=o("af5a"),d=function(t){var c=t.id,o=t.product;return o?Promise.resolve(o):(n["a"].commit("showLoader"),n["a"].dispatch("showcase/getProduct",c).catch((function(t){n["a"].commit("showError",t)})).finally((function(){n["a"].commit("hideLoader")})))},p=function(t){var c=t.vm,o=t.product;c.product=o,c.productActiveImage=Array.isArray(o.images)&&o.images.length>0?o.images[0]:null},m={name:"product",components:{NotFound:s["a"],SvgIcon:e["a"],VButton:u["a"]},data:function(){return{publicPath:"/vue-showcase/",product:null,productActiveImage:null}},computed:{hasProduct:function(){return!!this.product&&!Object(i["e"])(this.product)}},beforeRouteEnter:function(t,c,o){d(t.params).then((function(t){o((function(c){return p({vm:c,product:t})}))})).catch((function(t){o(!1)}))},beforeRouteUpdate:function(t,c,o){var r=this;d(t.params).then((function(t){p({vm:r,product:t}),o()})).catch((function(t){o(!1)}))},methods:{addProductToCart:function(t){var c=this;return this.$store.dispatch("cart/addProduct",t).catch((function(t){c.$store.commit("showError",t)}))},removeProductFromCart:function(t){var c=this;return this.$store.dispatch("cart/removeProduct",t).catch((function(t){c.$store.commit("showError",t)}))},hasProductInCart:function(t){return this.$store.getters["cart/hasProduct"](t)},getProductImagePath:function(t,c){return this.$store.getters["showcase/productImagePath"](t,c)},getProductFormattedPrice:function(t){return Object(i["b"])(t.price)}}},v=m,l=(o("bd21"),o("2877")),_=Object(l["a"])(v,r,a,!1,null,null,null);c["default"]=_.exports}}]);
//# sourceMappingURL=chunk-cdd16a0a.a2da4e72.js.map